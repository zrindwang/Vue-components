{"remainingRequest":"C:\\Users\\wz\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\wz\\Desktop\\冲冲冲\\VUE-COMUNICATE\\components\\el-form-item.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\wz\\Desktop\\冲冲冲\\VUE-COMUNICATE\\components\\el-form-item.vue","mtime":1586784794495},{"path":"C:\\Users\\wz\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\wz\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\wz\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2NoZW1hIGZyb20gJ2FzeW5jLXZhbGlkYXRvcic7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTonZWwtZm9ybS1pdGVtJywNCiAgICBpbmplY3Q6WydlbEZvcm0nXSwNCiAgICBwcm9wczp7DQogICAgICAgIGxhYmVsOnsvL+agh+etvg0KICAgICAgICAgICAgdHlwZTpTdHJpbmcsDQogICAgICAgICAgICBkZWZhdWx0OicnDQogICAgICAgIH0sDQogICAgICAgIHByb3A6U3RyaW5nLy/lvZPliY3moKHpqozlk6rkuIDkuKrlsZ7mgKcNCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgdGhpcy4kb24oJ3ZhbGlkYXRlJyxmdW5jdGlvbigpew0KICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpOy8v5qCh6aqM5piv5ZCm56ym5ZCI6KeE6IyDDQogICAgICAgIH0pDQogICAgfSwNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybiB7ZXJyTWVzc2FnZTonJ30NCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICB2YWxpZGF0ZSgpew0KICAgICAgICAgICAgaWYodGhpcy5wcm9wKXsNCiAgICAgICAgICAgICAgICAvL+iOt+WPluagoemqjOinhOWImQ0KICAgICAgICAgICAgICAgIGxldCBydWxlID0gdGhpcy5lbEZvcm0ucnVsZXNbdGhpcy5wcm9wXTsNCiAgICAgICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSB0aGlzLmVsRm9ybS5tb2RlbFt0aGlzLnByb3BdOw0KDQogICAgICAgICAgICAgICAgLy9lbC1mb3JtIOS9v+eUqOS6humqjOivgeW6kyAgYXN5bmMtdmFsaWRhdG9yDQogICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0b3IgPSB7IC8v5b2T5YmN5bGe5oCn55qE5o+P6L+wDQogICAgICAgICAgICAgICAgICAgIFt0aGlzLnByb3BdOnJ1bGUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbGV0IHNjaGVtYSA9IG5ldyBTY2hlbWEoZGVzY3JpcHRvcik7Ly/pgJrov4fmj4/ov7Dkv6Hmga/liJvlu7rkuIDkuKrpqqjmnrYNCiAgICAgICAgICAgICAgICByZXR1cm4gc2NoZW1hLnZhbGlkYXRlKHtbdGhpcy5wcm9wXTpuZXdWYWx1ZX0sKGVycixyZXMpPT57DQogICAgICAgICAgICAgICAgICAgIGlmKGVycil7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyck1lc3NhZ2UgPSBlcnJbMF0ubWVzc2FnZTsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyck1lc3NhZ2UgPSAnJw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["el-form-item.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"el-form-item.vue","sourceRoot":"components","sourcesContent":["<template>\r\n    <div>\r\n        <label v-if=\"label\">{{label}}</label>\r\n        <slot></slot>\r\n        {{errMessage}}\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Schema from 'async-validator';\r\nexport default {\r\n    name:'el-form-item',\r\n    inject:['elForm'],\r\n    props:{\r\n        label:{//标签\r\n            type:String,\r\n            default:''\r\n        },\r\n        prop:String//当前校验哪一个属性\r\n    },\r\n    mounted(){\r\n        this.$on('validate',function(){\r\n            this.validate();//校验是否符合规范\r\n        })\r\n    },\r\n    data(){\r\n        return {errMessage:''}\r\n    },\r\n    methods:{\r\n        validate(){\r\n            if(this.prop){\r\n                //获取校验规则\r\n                let rule = this.elForm.rules[this.prop];\r\n                let newValue = this.elForm.model[this.prop];\r\n\r\n                //el-form 使用了验证库  async-validator\r\n                let descriptor = { //当前属性的描述\r\n                    [this.prop]:rule\r\n                }\r\n                let schema = new Schema(descriptor);//通过描述信息创建一个骨架\r\n                return schema.validate({[this.prop]:newValue},(err,res)=>{\r\n                    if(err){\r\n                        this.errMessage = err[0].message;\r\n                    }else{\r\n                        this.errMessage = ''\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}